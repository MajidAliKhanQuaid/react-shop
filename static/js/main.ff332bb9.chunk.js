(this["webpackJsonpreact-shop"]=this["webpackJsonpreact-shop"]||[]).push([[0],{41:function(t,e,c){},42:function(t,e,c){},66:function(t,e,c){},68:function(t,e,c){},69:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c.n(n),o=c(17),r=c.n(o),i=(c(41),function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,70)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,o=e.getLCP,r=e.getTTFB;c(t),n(t),a(t),o(t),r(t)}))}),s=(c(42),c(4)),d=c(16),u=c(3),l=c(1),j=function(){return Object(l.jsx)("h1",{children:"Home Page Shop !"})},p=c(20),b=c(11),O=c.n(b),h=(c(66),function(t){var e=t.product,c=Object(s.c)((function(t){return t.productState.items})),n=Object(s.b)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"product glass",children:[Object(l.jsx)("div",{className:"overlay",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore illum autem quas repellendus aperiam quisquam praesentium, ipsam ex reiciendis ad vitae quod? Nihil animi eos dolorum exercitationem voluptatibus minus sint!"}),Object(l.jsx)("div",{className:"productImage",style:{backgroundImage:"url(".concat(e.imageurl,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center"}}),Object(l.jsx)("div",{className:"productName",children:e.name}),Object(l.jsxs)("div",{className:"addToCartBox",children:[Object(l.jsx)("button",{className:"btn btn-add",onClick:function(){var t={productid:e.id};console.log("Added product to Cart ",t),O.a.post("".concat("http://makq.xyz","/cart/add"),JSON.stringify(t)).then((function(t){var e=t.data,a=e.payload.product;console.log("Data came after ADD_TO_CART ",e),console.log("productid ",a.id);var o=c.find((function(t){return t.id==a.id}));o&&n({type:"ADD_TO_CART",payload:{product:{id:o.id,name:o.name,unitprice:o.unitprice,quantity:o.quantity}}})})).catch((function(t){}))},children:"+"}),Object(l.jsx)("input",{type:"text"}),Object(l.jsx)("button",{className:"btn btn-minus",onClick:function(){var t={productid:e.id};O.a.post("".concat("http://makq.xyz","/cart/remove"),JSON.stringify(t)).then((function(t){var e=t.data;console.log("Data came after REMOVE_FROM_CART ",e);var a=e.payload.product;console.log("productid ",a.id);var o=c.find((function(t){return t.id==a.id}));o&&n({type:"REMOVE_FROM_CART",payload:{product:{id:o.id,name:o.name,unitprice:o.unitprice,quantity:o.quantity}}})})).catch((function(t){}))},children:"-"})]})]})})}),x=function(){var t=Object(s.c)((function(t){return t.productState.items})),e=Object(n.useState)(t||[]),c=Object(p.a)(e,2),a=c[0],o=c[1],r=Object(s.b)(),i=Object(u.f)().category;return Object(n.useEffect)((function(){i||(i=0),console.log("Store Products before ",t),(!t||t&&0==t.length)&&O.a.get("".concat("http://makq.xyz","/products/").concat(i,"/1/1")).then((function(t){var e=t.data.payload;console.log("Success ",e),o(e),r({type:"PRODUCTS_UPDATE",payload:e})})).catch((function(t){console.log("error ",t)}))}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"products",children:a.map((function(t){return Object(l.jsx)(h,{product:t},t.id)}))})})},m=c(13);var v=c(5),f={items:[],categories:[]};var g=c(26),y={products:[]};var R=Object(m.b)({shopState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(console.log("shop.reducer  [state]",t," [action] ",e),"ITEMS_COUNT"===e.type){var c=e.payload;return console.log("--\x3e shop.reducer [payload] ",c),Object(v.a)(Object(v.a)({},t),{},{itemsCount:c.itemsCount})}return t},productState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;if("PRODUCTS_UPDATE"==e.type){var c=e.payload;return Object(v.a)(Object(v.a)({},t),{},{items:c})}if("CATEGORY_UPDATE"==e.type){var n=e.payload;return Object(v.a)(Object(v.a)({},t),{},{categories:n})}return t},userState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return console.log("user.reducer  [state]",t," [action] ",e),t},cartState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;if(console.log("cart.reducer  [state]",t," [action] ",e),"REFRESH_CART"==e.type){var c=e.payload.items;return c=c.map((function(t){return{id:t.productid,name:t.name,quantity:t.quantity,unitprice:t.unitprice}})),Object(v.a)(Object(v.a)({},t),{},{products:c})}if("ADD_TO_CART"==e.type){var n=e.payload.product,a=Object(g.a)(t.products);console.log("Products Before",a),a||(a=[]),console.log("Products After",a);var o=a.find((function(t){return t.id==n.id}));return o?(console.log("Product already existed so added a new quantity"),o.quantity=o.quantity+=1):(console.log("New product was pushed"),a.push({id:n.id,name:n.name,quantity:1,unitprice:n.unitprice})),Object(v.a)(Object(v.a)({},t),{},{products:a})}if("REMOVE_FROM_CART"==e.type){var r=e.payload.product,i=Object(g.a)(t.products);i||(i=[]);var s=i.find((function(t){return t.id==r.id}));return s?(s.quantity>0&&(s.quantity=s.quantity-=1),i=i.filter((function(t){return t.quantity>0}))):console.log("cart.reducer -> REMOVE_FROM_CART | Product never existed '".concat(r.name,"' ")),Object(v.a)(Object(v.a)({},t),{},{products:i})}return t}}),E=Object(m.c)(R);function T(t){return t||(t=""),"/".concat("react-shop/").concat(t)}var C=function(){var t=Object(s.c)((function(t){return t.productState.categories})),e=Object(n.useState)(t||[]),c=Object(p.a)(e,2),a=c[0],o=c[1],r=Object(s.b)();return Object(n.useEffect)((function(){(!t||t&&0==t.length)&&O.a.get("".concat("http://makq.xyz","/categories/15/1")).then((function(t){var e=t.data.payload;console.log("Success ",e),o(e),r({type:"CATEGORY_UPDATE",payload:e})})).catch((function(t){console.log("error ",t)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Categories"}),Object(l.jsx)("ul",{children:a.map((function(t){return Object(l.jsx)("div",{children:Object(l.jsxs)("a",{href:"".concat(T("products/"+t.id)),children:[Object(l.jsxs)("div",{children:[t.id," ",t.name]}),Object(l.jsx)("div",{children:Object(l.jsx)("img",{style:{height:"100px",width:"100px"},src:t.imageurl})})]})},t.id)}))})]})};c(68);function q(t){var e=t.products;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"cart",children:[Object(l.jsxs)("div",{className:"box",children:[Object(l.jsx)("div",{children:"Count"}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{children:e.length})]}),Object(l.jsxs)("div",{className:"box",children:[Object(l.jsx)("div",{children:"Total Price"}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{children:e.reduce((function(t,e){return Math.round(t+parseFloat(e.unitprice)*parseFloat(e.quantity))}),0)})]}),Object(l.jsx)("div",{className:"box box-slide",children:"Products"}),Object(l.jsxs)("div",{className:"box box-items box-header",children:[Object(l.jsx)("div",{children:"NAME"}),Object(l.jsx)("div",{children:"U/PRICE"}),Object(l.jsx)("div",{children:"QUANTITY"})]}),e.map((function(t){return Object(l.jsxs)("div",{className:"box box-items",children:[Object(l.jsx)("div",{children:t.name}),Object(l.jsx)("div",{children:t.unitprice}),Object(l.jsx)("div",{children:t.quantity})]},t.name)}))]})})}var S=O.a.create({baseURL:"http://makq.xyz"});var N=function(){var t=Object(s.b)();Object(n.useEffect)((function(){S.post("".concat("http://makq.xyz","/cart"),JSON.stringify({userid:1})).then((function(e){var c=e.data;console.log("ShopApp ",c),t({type:"REFRESH_CART",payload:c.payload})})).catch((function(t){}))}),[]);var e=Object(s.c)((function(t){return t.cartState.products}));return Object(l.jsx)(s.a,{store:E,children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(q,{products:e}),Object(l.jsx)("h1",{style:{color:"white"},children:"React Redux Example"}),Object(l.jsxs)(d.a,{children:[Object(l.jsx)(d.b,{to:"".concat(T()),children:"Home"}),Object(l.jsx)(d.b,{to:"".concat(T("categories")),children:"Categories"}),Object(l.jsx)(d.b,{to:"".concat(T("products")),children:"Products"}),Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{exact:!0,path:"".concat(T()),component:j}),Object(l.jsx)(u.a,{exact:!0,path:"".concat(T("categories")),component:C}),Object(l.jsx)(u.a,{exact:!0,path:"".concat(T("products/:category?")),component:x}),Object(l.jsx)(u.a,{path:"*",component:function(){return Object(l.jsx)("h1",{children:"Not Found !!"})}})]})]})]})})};console.log("************ YOU'RE IN DEBUG MODE ************"),r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(s.a,{store:E,children:Object(l.jsx)(N,{})})}),document.getElementById("root")),i(console.log)}},[[69,1,2]]]);
//# sourceMappingURL=main.ff332bb9.chunk.js.map