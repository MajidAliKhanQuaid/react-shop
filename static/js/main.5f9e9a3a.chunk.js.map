{"version":3,"sources":["reportWebVitals.js","pages/home.page.jsx","components/product.component.jsx","pages/products.page.jsx","redux/reducers/products.reducer.js","redux/reducers/cart.reducer.js","redux/reducers/index.js","redux/reducers/shop.reducer.js","redux/reducers/user.reducer.js","redux/store.js","PreparePath.js","pages/categories.page.jsx","components/cart.component.js","interceptor.js","ShopApp.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","HomePage","Product","product","storeProducts","useSelector","state","productState","items","dispatch","useDispatch","className","style","backgroundImage","imageurl","backgroundRepeat","backgroundSize","backgroundPosition","name","onClick","data","productid","id","console","log","axios","post","process","JSON","stringify","pProduct","payload","cProduct","find","x","type","unitprice","quantity","catch","err","ProductsPage","useState","products","setProducts","category","useParams","useEffect","length","get","pProducts","map","initialState","categories","rootReducer","combineReducers","shopState","action","itemsCount","userState","cartState","item","eProduct","push","filter","store","createStore","preparePath","originalRoute","Categories","storeCategories","setCategories","pCategories","href","height","width","src","Cart","reduce","a","b","Math","round","parseFloat","instance","create","baseURL","ShopApp","userid","color","to","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5f9e9a3a.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","export const HomePage = () => {\r\n  return <h1>Home Page Shop !</h1>;\r\n};\r\n","import axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport \"./product.component.css\";\r\nexport const Product = ({ product }) => {\r\n  const storeProducts = useSelector((state) => state.productState.items);\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <>\r\n      <div className=\"product glass\">\r\n        <div className=\"overlay\">\r\n          Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore illum\r\n          autem quas repellendus aperiam quisquam praesentium, ipsam ex\r\n          reiciendis ad vitae quod? Nihil animi eos dolorum exercitationem\r\n          voluptatibus minus sint!\r\n        </div>\r\n        <div\r\n          className=\"productImage\"\r\n          style={{\r\n            backgroundImage: `url(${product.imageurl})`,\r\n            backgroundRepeat: \"no-repeat\",\r\n            backgroundSize: \"cover\",\r\n            backgroundPosition: \"center center\",\r\n          }}\r\n        ></div>\r\n        <div className=\"productName\">{product.name}</div>\r\n        <div className=\"addToCartBox\">\r\n          <button\r\n            className=\"btn btn-add\"\r\n            onClick={() => {\r\n              var data = {\r\n                productid: product.id,\r\n              };\r\n              console.log(\"Added product to Cart \", data);\r\n              axios\r\n                .post(\r\n                  `${process.env.REACT_APP_API_URL}/cart/add`,\r\n                  JSON.stringify(data)\r\n                )\r\n                .then(({ data }) => {\r\n                  var pProduct = data.payload.product;\r\n                  console.log(\"Data came after ADD_TO_CART \", data);\r\n                  console.log(\"productid \", pProduct.id);\r\n                  const cProduct = storeProducts.find(\r\n                    (x) => x.id == pProduct.id\r\n                  );\r\n                  if (cProduct) {\r\n                    dispatch({\r\n                      type: \"ADD_TO_CART\",\r\n                      payload: {\r\n                        product: {\r\n                          id: cProduct.id,\r\n                          name: cProduct.name,\r\n                          unitprice: cProduct.unitprice,\r\n                          quantity: cProduct.quantity,\r\n                        },\r\n                      },\r\n                    });\r\n                  }\r\n                })\r\n                .catch((err) => {});\r\n            }}\r\n          >\r\n            +\r\n          </button>\r\n          <input type=\"text\" />\r\n          <button\r\n            className=\"btn btn-minus\"\r\n            onClick={() => {\r\n              var data = {\r\n                productid: product.id,\r\n              };\r\n              axios\r\n                .post(\r\n                  `${process.env.REACT_APP_API_URL}/cart/remove`,\r\n                  JSON.stringify(data)\r\n                )\r\n                .then(({ data }) => {\r\n                  console.log(\"Data came after REMOVE_FROM_CART \", data);\r\n                  var pProduct = data.payload.product;\r\n                  console.log(\"productid \", pProduct.id);\r\n                  const cProduct = storeProducts.find(\r\n                    (x) => x.id == pProduct.id\r\n                  );\r\n                  if (cProduct) {\r\n                    dispatch({\r\n                      type: \"REMOVE_FROM_CART\",\r\n                      payload: {\r\n                        product: {\r\n                          id: cProduct.id,\r\n                          name: cProduct.name,\r\n                          unitprice: cProduct.unitprice,\r\n                          quantity: cProduct.quantity,\r\n                        },\r\n                      },\r\n                    });\r\n                  }\r\n                })\r\n                .catch((err) => {});\r\n            }}\r\n          >\r\n            -\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport { Product } from \"../components/product.component\";\r\nexport const ProductsPage = () => {\r\n  const storeProducts = useSelector((state) => state.productState.items);\r\n  const [products, setProducts] = useState(storeProducts ? storeProducts : []);\r\n  const dispatch = useDispatch();\r\n  let { category } = useParams();\r\n  // console.log(params);\r\n  useEffect(() => {\r\n    // category/pageSize/pageNo\r\n    if (!category) {\r\n      category = 0;\r\n    }\r\n    console.log(\"Store Products before \", storeProducts);\r\n    if (!storeProducts || (storeProducts && storeProducts.length == 0)) {\r\n      axios\r\n        .get(`${process.env.REACT_APP_API_URL}/products/${category}/1/1`)\r\n        .then(({ data }) => {\r\n          var pProducts = data.payload;\r\n          console.log(\"Success \", pProducts);\r\n          setProducts(pProducts);\r\n          dispatch({ type: \"PRODUCTS_UPDATE\", payload: pProducts });\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"error \", err);\r\n        });\r\n    }\r\n  }, []);\r\n  // const products = [\r\n  //   {\r\n  //     id: 1,\r\n  //     name: \"Apple\",\r\n  //     url:\r\n  //       \"https://images.unsplash.com/photo-1593359797688-c51a69ecc2d5?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=763&q=80\",\r\n  //     unitprice: 10,\r\n  //   },\r\n  //   {\r\n  //     id: 2,\r\n  //     name: \"Orange\",\r\n  //     url:\r\n  //       \"https://images.unsplash.com/photo-1547514701-418e31cbb328?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80\",\r\n  //     unitprice: 61.4,\r\n  //   },\r\n  //   {\r\n  //     id: 3,\r\n  //     name: \"Cherry\",\r\n  //     url:\r\n  //       \"https://images.unsplash.com/photo-1528821128474-27f963b062bf?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=750&q=80\",\r\n  //     unitprice: 1.4,\r\n  //   },\r\n  //   {\r\n  //     id: 4,\r\n  //     name: \"Parcley\",\r\n  //     url:\r\n  //       \"https://images.unsplash.com/photo-1590759485418-90509afec818?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80\",\r\n  //     unitprice: 10.4,\r\n  //   },\r\n  //   {\r\n  //     id: 5,\r\n  //     name: \"Pomegranate\",\r\n  //     url:\r\n  //       \"https://images.unsplash.com/photo-1580636521086-7b0c742dd567?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80\",\r\n  //     unitprice: 11.8,\r\n  //   },\r\n  //   {\r\n  //     id: 6,\r\n  //     name: \"Banana\",\r\n  //     url:\r\n  //       \"https://images.unsplash.com/photo-1554225198-3968268e2cf6?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=751&q=80\",\r\n  //     unitprice: 0.4,\r\n  //   },\r\n  //   {\r\n  //     id: 7,\r\n  //     name: \"Kale\",\r\n  //     url:\r\n  //       \"https://images.unsplash.com/photo-1539207107274-c576d0d5b375?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80\",\r\n  //     unitprice: 55.4,\r\n  //   },\r\n  //   {\r\n  //     id: 8,\r\n  //     name: \"Grapes\",\r\n  //     url:\r\n  //       \"https://images.unsplash.com/photo-1575278986957-45c2c26e9b2d?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80\",\r\n  //     unitprice: 10,\r\n  //   },\r\n  // ];\r\n  return (\r\n    <>\r\n      <div className=\"products\">\r\n        {products.map((product) => (\r\n          <Product key={product.id} product={product} />\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","const initialState = { items: [], categories: [] };\r\nexport default function productsReducer(state = initialState, action) {\r\n  if (action.type == \"PRODUCTS_UPDATE\") {\r\n    let products = action.payload;\r\n    return { ...state, items: products };\r\n  } else if (action.type == \"CATEGORY_UPDATE\") {\r\n    let categories = action.payload;\r\n    return { ...state, categories: categories };\r\n  }\r\n  return state;\r\n}\r\n","const initialState = { products: [] };\r\nexport default function cartReducer(state = initialState, action) {\r\n  console.log(\"cart.reducer  [state]\", state, \" [action] \", action);\r\n  if (action.type == \"REFRESH_CART\") {\r\n    let { items } = action.payload;\r\n    items = items.map((item) => {\r\n      return {\r\n        id: item.productid,\r\n        name: item.name,\r\n        quantity: item.quantity,\r\n        unitprice: item.unitprice,\r\n      };\r\n    });\r\n\r\n    return { ...state, products: items };\r\n  } else if (action.type == \"ADD_TO_CART\") {\r\n    const { product } = action.payload;\r\n    // let { products } = state;\r\n    let products = [...state.products];\r\n\r\n    console.log(\"Products Before\", products);\r\n    if (!products) {\r\n      products = [];\r\n    }\r\n    console.log(\"Products After\", products);\r\n\r\n    let eProduct = products.find((x) => x.id == product.id);\r\n    if (eProduct) {\r\n      console.log(\"Product already existed so added a new quantity\");\r\n      eProduct.quantity = eProduct.quantity += 1;\r\n    } else {\r\n      console.log(\"New product was pushed\");\r\n      products.push({\r\n        id: product.id,\r\n        name: product.name,\r\n        quantity: 1,\r\n        unitprice: product.unitprice,\r\n      });\r\n    }\r\n\r\n    return { ...state, products: products };\r\n  } else if (action.type == \"REMOVE_FROM_CART\") {\r\n    const { product } = action.payload;\r\n    // let { products } = state;\r\n    let products = [...state.products];\r\n    if (!products) {\r\n      products = [];\r\n    }\r\n\r\n    let eProduct = products.find((x) => x.id == product.id);\r\n    if (eProduct) {\r\n      if (eProduct.quantity > 0) {\r\n        eProduct.quantity = eProduct.quantity -= 1;\r\n      }\r\n      // to ensure, we have no product with 0 quantity\r\n      products = products.filter((x) => x.quantity > 0);\r\n    } else {\r\n      console.log(\r\n        `cart.reducer -> REMOVE_FROM_CART | Product never existed '${product.name}' `\r\n      );\r\n    }\r\n\r\n    return { ...state, products: products };\r\n  }\r\n  return state;\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport userReducer from \"./user.reducer\";\r\nimport productsReducer from \"./products.reducer\";\r\nimport shopReducer from \"./shop.reducer\";\r\nimport cartReducer from \"./cart.reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  shopState: shopReducer,\r\n  productState: productsReducer,\r\n  userState: userReducer,\r\n  cartState: cartReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","export default function shopReducer(state = {}, action) {\r\n  console.log(\"shop.reducer  [state]\", state, \" [action] \", action);\r\n  if (action.type === \"ITEMS_COUNT\") {\r\n    const { payload } = action;\r\n    console.log(\"--> shop.reducer [payload] \", payload);\r\n    return { ...state, itemsCount: payload.itemsCount };\r\n  }\r\n  return state;\r\n}\r\n","export default function userReducer(state = {}, action) {\r\n  console.log(\"user.reducer  [state]\", state, \" [action] \", action);\r\n  return state;\r\n}\r\n","import { createStore, compose } from \"redux\";\r\nimport rootReducer from \"./reducers/\";\r\n// export function reducer(state = {}, action) {\r\n//   console.log(action);\r\n//   if (action.type == \"update_count\") {\r\n//     return { ...state, count: action.data };\r\n//   } else if (action.type == \"user_updated\") {\r\n//     return { ...state, user: action.data };\r\n//   }\r\n\r\n//   return state;\r\n// }\r\n\r\nexport const store = createStore(rootReducer);\r\n// export const store = compose(\r\n//   window.devToolsExtension && window.devToolsExtension()\r\n// )(createStore)(rootReducer);\r\n","export default function preparePath(originalRoute) {\r\n  // e.g. originalRoute /categories\r\n  // maps to PREFIX/categories i.e. majidalikhanquaid.github.io/react-shop/categories\r\n  if (!originalRoute) originalRoute = \"\";\r\n  return `/${\r\n    process.env.REACT_APP_BASE_URL ? process.env.REACT_APP_BASE_URL + \"/\" : \"\"\r\n  }${originalRoute}`;\r\n}\r\n","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport preparePath from \"./../PreparePath\";\r\n\r\nexport const Categories = () => {\r\n  const storeCategories = useSelector((state) => state.productState.categories);\r\n  const [categories, setCategories] = useState(\r\n    storeCategories ? storeCategories : []\r\n  );\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (!storeCategories || (storeCategories && storeCategories.length == 0)) {\r\n      axios\r\n        .get(`${process.env.REACT_APP_API_URL}/categories/15/1`)\r\n        .then(({ data }) => {\r\n          var pCategories = data.payload;\r\n          console.log(\"Success \", pCategories);\r\n          setCategories(pCategories);\r\n          dispatch({ type: \"CATEGORY_UPDATE\", payload: pCategories });\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"error \", err);\r\n        });\r\n    }\r\n  }, []);\r\n  return (\r\n    <>\r\n      <h1>Categories</h1>\r\n      <ul>\r\n        {categories.map((category) => (\r\n          <div key={category.id}>\r\n            {/* route /products/:category */}\r\n            <a href={`${preparePath(\"products/\" + category.id)}`}>\r\n              <div>\r\n                {category.id} {category.name}\r\n              </div>\r\n              <div>\r\n                <img\r\n                  style={{ height: \"100px\", width: \"100px\" }}\r\n                  src={category.imageurl}\r\n                />\r\n              </div>\r\n            </a>\r\n          </div>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector, useStore } from \"react-redux\";\r\nimport \"./cart.component.css\";\r\n\r\nexport function Cart({ products }) {\r\n  return (\r\n    <>\r\n      <div className=\"cart\">\r\n        <div className=\"box\">\r\n          <div>Count</div>\r\n          <div></div>\r\n          <div>{products.length}</div>\r\n        </div>\r\n        <div className=\"box\">\r\n          <div>Total Price</div>\r\n          <div></div>\r\n          <div>\r\n            {products.reduce(\r\n              (a, b) =>\r\n                Math.round(\r\n                  a + parseFloat(b.unitprice) * parseFloat(b.quantity)\r\n                ),\r\n              0\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"box box-slide\">Products</div>\r\n\r\n        <div className=\"box box-items box-header\">\r\n          <div>NAME</div>\r\n          <div>U/PRICE</div>\r\n          <div>QUANTITY</div>\r\n        </div>\r\n        {products.map((x) => (\r\n          <div key={x.name} className=\"box box-items\">\r\n            <div>{x.name}</div>\r\n            <div>{x.unitprice}</div>\r\n            <div>{x.quantity}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n});\r\n\r\nexport default instance;\r\n","import \"./main.css\";\r\nimport { Provider, useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport { HomePage } from \"./pages/home.page\";\r\nimport { ProductsPage } from \"./pages/products.page\";\r\nimport { store } from \"./redux/store\";\r\nimport { Categories } from \"./pages/categories.page\";\r\nimport { Cart } from \"./components/cart.component\";\r\nimport { useEffect, useState } from \"react\";\r\nimport preparePath from \"./PreparePath\";\r\nimport axios from \"./interceptor\";\r\n\r\nfunction ShopApp() {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        `${process.env.REACT_APP_API_URL}/cart`,\r\n        JSON.stringify({ userid: 1 })\r\n      )\r\n      .then(({ data }) => {\r\n        console.log(\"ShopApp \", data);\r\n        dispatch({ type: \"REFRESH_CART\", payload: data.payload });\r\n      })\r\n      .catch((err) => {});\r\n  }, []);\r\n  const products = useSelector((x) => x.cartState.products);\r\n\r\n  return (\r\n    <Provider store={store}>\r\n      <>\r\n        <Cart products={products} />\r\n        <h1 style={{ color: \"white\" }}>React Redux Example</h1>\r\n        <Router>\r\n          <Link to={`${preparePath()}`}>Home</Link>\r\n          <Link to={`${preparePath(\"categories\")}`}>Categories</Link>\r\n          <Link to={`${preparePath(\"products\")}`}>Products</Link>\r\n          <Switch>\r\n            <Route exact path={`${preparePath()}`} component={HomePage} />\r\n            <Route\r\n              exact\r\n              path={`${preparePath(\"categories\")}`}\r\n              component={Categories}\r\n            />\r\n            <Route\r\n              exact\r\n              path={`${preparePath(\"products/:category?\")}`}\r\n              component={ProductsPage}\r\n            />\r\n            <Route path=\"*\" component={() => <h1>Not Found !!</h1>} />\r\n          </Switch>\r\n        </Router>\r\n      </>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default ShopApp;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport ShopApp from \"./ShopApp\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./redux/store\";\r\n// used for performance measurement\r\n\r\nif (process.env.REACT_APP_STAGING_ENV != \"DEBUG\") {\r\n  if (!window.console) window.console = {};\r\n  var methods = [\"log\", \"debug\", \"warn\", \"info\"];\r\n  for (var i = 0; i < methods.length; i++) {\r\n    console[methods[i]] = function () {};\r\n  }\r\n} else {\r\n  console.log(\"************ YOU'RE IN DEBUG MODE ************\");\r\n}\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <ShopApp />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals(console.log);\r\n"],"sourceRoot":""}